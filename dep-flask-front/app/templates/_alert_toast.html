{% with messages = get_flashed_messages(with_categories=True) %}
{% if messages %}
<div aria-live="polite" aria-atomic="true" class="position-relative">
	<div class="toast-container position-absolute top-0 start-50 translate-middle-x p-3">
		{% for category, message in messages %}

		<div class="toast align-items-center" role="alert" aria-live="assertive" aria-atomic="true"
			data-bs-delay="10000">
			<div class="toast-header text-white bg-{{category}}">
				<strong class="me-auto">{% if category=='danger' %}Ошибка{% else %}Уведомление{% endif %}</strong>
				<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
			</div>
			<div class="toast-body">
				{{ message }}
			</div>
		</div>

		{% endfor %}
	</div>
</div>
{% endif %}
{% endwith %}

<script>
	var toastElList = [].slice.call(document.querySelectorAll('.toast'))

	var toastList = toastElList.map(function (toastEl) {
		var toast = new bootstrap.Toast(toastEl)
		toast.show()
		return toast
	})
</script>
